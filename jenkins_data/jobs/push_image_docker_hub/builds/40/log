Started by user [8mha:////4HNm9FtBVLKzYlJJ4dbwJgHPlkJdRlcRtXHMH8CbgBvqAAAAlx+LCAAAAAAAAP9b85aBtbiIQTGjNKU4P08vOT+vOD8nVc83PyU1x6OyILUoJzMv2y+/JJUBAhiZGBgqihhk0NSjKDWzXb3RdlLBUSYGJk8GtpzUvPSSDB8G5tKinBIGIZ+sxLJE/ZzEvHT94JKizLx0a6BxUmjGOUNodHsLgAzWEgZu/dLi1CL9xJTczDwAj6GcLcAAAAA=[0madmin
Running as SYSTEM
Building in workspace /var/jenkins_home/workspace/class_task
[WS-CLEANUP] Deleting project workspace...
[WS-CLEANUP] Deferred wipeout is used...
[WS-CLEANUP] Done
[class_task] $ /bin/sh -xe /tmp/jenkins15999289470939611673.sh
+ which git
/usr/bin/git
+ git clone https://****@github.com/orinahum/Details_App.git
Cloning into 'Details_App'...
+ cd Details_App
+ ./build.sh
#0 building with "default" instance using docker driver

#1 [internal] load build definition from Dockerfile
#1 transferring dockerfile: 684B done
#1 DONE 0.0s

#2 [internal] load metadata for docker.io/library/python:3.11-alpine
#2 DONE 0.6s

#3 [internal] load .dockerignore
#3 transferring context: 77B done
#3 DONE 0.0s

#4 [base 1/6] FROM docker.io/library/python:3.11-alpine@sha256:5f74a4572a891617b94ed3b365071de4276aff0f09a91a0ddfa9f388926e84bc
#4 DONE 0.0s

#5 [internal] load build context
#5 transferring context: 27.71MB 0.8s done
#5 DONE 0.8s

#6 [stage-1 4/6] COPY --from=base /usr/local/lib/python3.11/site-packages /usr/local/lib/python3.11/site-packages
#6 CACHED

#7 [base 5/6] RUN poetry config virtualenvs.create false
#7 CACHED

#8 [base 6/6] RUN poetry install --no-dev
#8 CACHED

#9 [stage-1 2/6] WORKDIR /home/app
#9 CACHED

#10 [base 2/6] COPY ./pyproject.toml ./
#10 CACHED

#11 [base 3/6] RUN apk add --no-cache --update build-base git python3-dev libffi-dev
#11 CACHED

#12 [stage-1 3/6] RUN apk add git
#12 CACHED

#13 [base 4/6] RUN pip install poetry
#13 CACHED

#14 [stage-1 5/6] COPY --from=base /usr/local/bin /usr/local/bin
#14 CACHED

#15 [stage-1 6/6] COPY . /home/app/
#15 DONE 0.3s

#16 exporting to image
#16 exporting layers 0.1s done
#16 writing image sha256:a92e7eee325fc956cc903f17a437555cc7705732612e49cb849e11db481a96a7 done
#16 naming to docker.io/library/details_app done
#16 DONE 0.1s
+ docker compose build --no-cache
+ docker tag details_app:latest ****/details_app:v1.0
+ docker images
REPOSITORY                 TAG       IMAGE ID       CREATED                  SIZE
details_app                latest    a92e7eee325f   Less than a second ago   197MB
****/details_app   v1.0      a92e7eee325f   Less than a second ago   197MB
<none>                     <none>    f0931f5c8e15   2 minutes ago            197MB
<none>                     <none>    d65f67da89a7   17 minutes ago           197MB
<none>                     <none>    5af06bcda46b   19 minutes ago           197MB
docker_details_app         1.0       e20f8c4d6759   About an hour ago        197MB
docker-worker1             latest    dec3a3a81526   2 days ago               2.05GB
docker-main                latest    047276590cd8   2 days ago               819MB
docker-worker2             latest    a8352c683781   2 days ago               1.89GB
postgres                   latest    ebf3cbeb467b   2 months ago             453MB
+ docker logout
Removing login credentials for https://index.docker.io/v1/
+ docker login -u **** -p ****
WARNING! Using --password via the CLI is insecure. Use --password-stdin.
WARNING! Your password will be stored unencrypted in /root/.docker/config.json.
Configure a credential helper to remove this warning. See
https://docs.docker.com/engine/reference/commandline/login/#credential-stores

Login Succeeded
+ echo login succeful
login succeful
+ docker push ****/details_app:v1.0
The push refers to repository [docker.io/****/details_app]
1edabe3dec4d: Preparing
f4f0272d9111: Preparing
31dc3734b55f: Preparing
1d1fdc2ee3e7: Preparing
71ab5fea47ba: Preparing
7d5d5b012b10: Preparing
4470b63ff86a: Preparing
1ae8a9d0db40: Preparing
21dad4165637: Preparing
9110f7b5208f: Preparing
7d5d5b012b10: Waiting
21dad4165637: Waiting
4470b63ff86a: Waiting
1ae8a9d0db40: Waiting
9110f7b5208f: Waiting
71ab5fea47ba: Pushed
f4f0272d9111: Pushed
7d5d5b012b10: Mounted from library/python
4470b63ff86a: Mounted from library/python
1ae8a9d0db40: Mounted from library/python
21dad4165637: Mounted from library/python
9110f7b5208f: Mounted from library/python
1d1fdc2ee3e7: Pushed
31dc3734b55f: Pushed
1edabe3dec4d: Pushed
v1.0: digest: sha256:f1414502057189bdaf0037aecdace5b07ee8004ceeda7bb115a87464deed8a8c size: 2418
+ [[ 0 ==0 ]]
/tmp/jenkins15999289470939611673.sh: 17: [[: not found
+ echo [!] Somthing went wrong
[!] Somthing went wrong
Finished: SUCCESS
